{"name":"Ensure that a 'Diagnostics Setting' exists","slug":"azure-1-3-0-logging-1-1","body":"Enable Diagnostic settings for exporting activity logs. Diagnostic setting are available for each individual resources within a subscription. Settings should be configured for all appropriate resources for your environment.\n\n**Rationale**\n\nA diagnostic setting controls how a diagnostic log is exported. By default, logs are retained only for 90 days. Diagnostic settings should be defined so that logs can be exported and stored for a longer duration in order to analyze security activities within an Azure subscription.","description":"","severity":1,"remediationDescription":"**From Azure Console**\n\n1. Click on the resource that has a diagnostic status of `disabled`\n2. Select `Add Diagnostic Settings`\n3. Enter a `Diagnostic setting name`\n4. Select the appropriate log, metric, and destination. (This may be Log Analytics/Storage account or Event Hub)\n5. Click `save`\n\nRepeat these step for all resources as needed.\n\n**Default Value**\n\nBy default, diagnostic setting is not set.\n\n**References**\n\n1. [https://docs.microsoft.com/en-us/azure/monitoring-and-diagnostics/monitoring-overview-activity-logs#export-the-activity-log-with-a-log-profile](https://docs.microsoft.com/en-us/azure/monitoring-and-diagnostics/monitoring-overview-activity-logs#export-the-activity-log-with-a-log-profile)\n2. [https://docs.microsoft.com/en-us/cli/azure/monitor/log-profiles?view=azure-cli-latest#az_monitor_log_profiles_create](https://docs.microsoft.com/en-us/cli/azure/monitor/log-profiles?view=azure-cli-latest#az_monitor_log_profiles_create)\n3. [https://docs.microsoft.com/en-us/azure/security/benchmarks/security-controls-v2-logging-threat-detection#lt-5-centralize-security-log-management-and-analysis](https://docs.microsoft.com/en-us/azure/security/benchmarks/security-controls-v2-logging-threat-detection#lt-5-centralize-security-log-management-and-analysis)","rules":null}